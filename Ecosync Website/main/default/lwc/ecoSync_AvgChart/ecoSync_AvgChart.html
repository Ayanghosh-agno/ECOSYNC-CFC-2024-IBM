<template>
	<lightning-layout style="background: #ffffffd4;">
		<lightning-layout-item size='12' data-item='inlineblock'>
			<div style="padding: 12px;background: #d2d2d2ba;">
			<lightning-button variant="brand-outline" label="Edit Graph Parameters" title="Sensor Parameters" onclick={handleClick} class="slds-m-left_x-small"></lightning-button>
			</div>
			<div>
				<div class='slds-grid slds-wrap'>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={atmTempDataFlag}>
						<c-dynamic-chart-comp chart-dataset={atmTempData} if:true={atmTempData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Atmospheric Temperature</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={atmHumDataFlag}>
						<c-dynamic-chart-comp chart-dataset={atmHumData} if:true={atmHumData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Atmospheric Humidity</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilPDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilPData} if:true={soilPData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Phosphorus
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilKDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilKData} if:true={soilKData}> 
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Potassium
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilNDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilNData} if:true={soilNData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Nitrogen
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilTempDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilTempData} if:true={soilTempData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Temperature
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilMoisDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilMoisData} if:true={soilMoisData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Moisture</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilECDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilECData} if:true={soilECData}> 
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil Electric Conductivity</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={soilPhDataFlag}>
						<c-dynamic-chart-comp chart-dataset={soilPhData} if:true={soilPhData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Soil PH
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={lightIntensityDataFlag}>
						<c-dynamic-chart-comp chart-dataset={lightIntensityData} if:true={lightIntensityData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Light Intensity
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={rainPerDataFlag}>
						<c-dynamic-chart-comp chart-dataset={rainPerData} if:true={rainPerData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Rain Percentage
						</div>
					</div>
					<div class='slds-col slds-large-size_3-of-12 slds-medium-size_6-of-12 slds-size_12-of-12' style='border:1px solid #cacaca;' if:true={transBatDataFlag}>
						<c-dynamic-chart-comp chart-dataset={transBatData} if:true={transBatData}>
						</c-dynamic-chart-comp>
						<div class="chartTitle">Transmitter Battery
						</div>
					</div>
				</div>
			</div>
		</lightning-layout-item>
	</lightning-layout>
	<template lwc:if={modalActive}>
		<!-- Modal/Popup Box LWC starts here -->
		<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
			aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<!-- Modal/Popup Box LWC header here -->
				<header class="slds-modal__header">
					<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"  onclick={closeModal}>
                                                                                <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" name="close" onclick={closeModal} ></lightning-icon>
                                                                                <span class="slds-assistive-text">Close</span>
                                                                            </button>
					<h2 class="slds-text-heading_medium slds-hyphenate">Select Parameter to Display as GRAPH</h2>
				</header>
				<!-- Modal/Popup Box LWC body starts here -->
				<div class="slds-modal__content slds-p-around_medium">
					<lightning-dual-listbox name="Sensor Parameters" label="Select Options" variant="label-hidden"
						source-label="Available Options" selected-label="Selected Options" options={options}
						value={selectedValues} onchange={handleChange}>
					</lightning-dual-listbox>
				</div>
				<!-- Modal/Popup Box LWC footer starts here -->
				<footer class="slds-modal__footer">
					<button class="slds-button slds-button_brand" onclick={submitModal} title="Submit">Submit</button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</template>
</template>